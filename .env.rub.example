# =============================================================================
# MentalMap-Tool - RUB (Ruhr-Universität Bochum) Konfiguration
# =============================================================================
# Diese Datei als .env.rub kopieren und anpassen
# cp .env.rub.example .env.rub

# =============================================================================
# SERVER KONFIGURATION
# =============================================================================
NODE_ENV=production
PORT=3003
HOST=0.0.0.0

# =============================================================================
# RUB MYSQL DATENBANK KONFIGURATION
# =============================================================================
# Diese Werte vom RUB IT-Service erhalten (it-services@rub.de)
DB_TYPE=mysql
DB_HOST=dbs.rub.de
DB_PORT=3306
DB_USER=ihr_rub_username
DB_PASSWORD=ihr_rub_passwort
DB_NAME=ihr_datenbankname

# SSL-Konfiguration für sichere Datenbankverbindung
DB_SSL=true
DB_SSL_CA_PATH=/app/ssl/rub-ca.pem
DB_SSL_REJECT_UNAUTHORIZED=true

# Verbindungsoptionen
DB_CONNECTION_LIMIT=10
DB_TIMEOUT=60000
DB_ACQUIRE_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000

# =============================================================================
# SICHERHEIT (WICHTIG: ÄNDERN SIE DIESE WERTE!)
# =============================================================================
# Generieren Sie sichere Schlüssel mit: openssl rand -base64 32
JWT_SECRET=AENDERN_SIE_DIESEN_SCHLUESSEL_FUER_PRODUKTION
SESSION_SECRET=AENDERN_SIE_DIESEN_SCHLUESSEL_FUER_PRODUKTION

# CORS-Konfiguration für RUB-Domain
CORS_ORIGIN=https://ihr-projekt.rub.de
CORS_CREDENTIALS=true

# =============================================================================
# DATEI-UPLOADS
# =============================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=audio/mpeg,audio/wav,audio/mp4,audio/webm,image/jpeg,image/png,application/pdf
UPLOAD_PATH=/app/uploads

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FILE=/app/logs/mentalmap.log
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=5

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_UPLOAD_MAX=5

# =============================================================================
# BACKUP KONFIGURATION
# =============================================================================
# Hinweis: Datenbank-Backups werden von RUB IT-Services verwaltet
BACKUP_ENABLED=true
BACKUP_PATH=/app/backups
BACKUP_RETENTION_DAYS=30

# =============================================================================
# INSTITUTIONELLE EINSTELLUNGEN
# =============================================================================
INSTITUTION=Ruhr-Universitaet-Bochum
DEPARTMENT=Ihr-Fachbereich
PROJECT_NAME=MentalMap-Tool
PROJECT_CONTACT=ihre.email@rub.de

# Teilnehmer-Code-Präfix
PARTICIPANT_CODE_PREFIX=RUB

# =============================================================================
# E-MAIL KONFIGURATION (Optional)
# =============================================================================
# Falls Sie E-Mail-Benachrichtigungen nutzen möchten
EMAIL_ENABLED=false
EMAIL_HOST=mail.rub.de
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=ihre.email@rub.de
EMAIL_PASSWORD=ihr_email_passwort
EMAIL_FROM=ihre.email@rub.de

# =============================================================================
# ENTWICKLUNG & DEBUGGING
# =============================================================================
# Nur für Entwicklung aktivieren
DEBUG=false
VERBOSE_LOGGING=false

# =============================================================================
# GESUNDHEITSCHECKS
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# =============================================================================
# PERFORMANCE
# =============================================================================
# Anpassungen für RUB-Umgebung
MAX_CONCURRENT_UPLOADS=3
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000

# =============================================================================
# DSGVO & COMPLIANCE
# =============================================================================
# Einstellungen für deutsche Datenschutzbestimmungen
GDPR_COMPLIANT=true
DATA_RETENTION_DAYS=365
ANONYMIZE_AFTER_DAYS=730
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
ANALYTICS_ENABLED=false
MONITORING_ENABLED=true
ERROR_REPORTING=true

# =============================================================================
# RUB-SPEZIFISCHE EINSTELLUNGEN
# =============================================================================
# Zeitzone
TZ=Europe/Berlin

# Sprache
DEFAULT_LANGUAGE=de
SUPPORTED_LANGUAGES=de,en

# RUB-Branding
BRAND_NAME=MentalMap-Tool RUB
BRAND_COLOR=#003560
BRAND_LOGO_URL=/assets/rub-logo.png

# =============================================================================
# WARTUNG & UPDATES
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Das System wird gewartet. Bitte versuchen Sie es später erneut.
UPDATE_CHECK_ENABLED=false

# =============================================================================
# NOTIZEN FÜR RUB-DEPLOYMENT
# =============================================================================
# 1. Kontaktieren Sie it-services@rub.de für Datenbankzugang
# 2. SSL-Zertifikat in ssl/rub-ca.pem speichern
# 3. IP-Adresse für Firewall-Whitelist angeben
# 4. Sichere Passwörter für JWT_SECRET und SESSION_SECRET generieren
# 5. CORS_ORIGIN auf Ihre RUB-Domain anpassen
# 6. Backup-Strategie mit RUB IT-Services abstimmen
# =============================================================================